#  ‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢Ä‚£§‚£¶‚£¥‚£∂‚£æ‚£ø‚£∂‚£∂‚£∂‚£∂‚£¶‚£§‚£Ñ‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä                                              
#  ‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢†‚°∂‚†ª‚†õ‚†ü‚†ã‚†â‚†Ä‚†à‚†§‚†¥‚†∂‚†∂‚¢æ‚£ø‚£ø‚£ø‚£∑‚£¶‚†Ñ‚†Ä‚†Ä‚†Ä                ìêì  Makefile ìêî           
#  ‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢Ä‚†î‚†ã‚†Ä‚†Ä‚†§‚†í‚†í‚¢≤‚†Ä‚†Ä‚†Ä‚¢Ä‚£†‚£§‚£§‚£¨‚£Ω‚£ø‚£ø‚£ø‚£∑‚£Ñ‚†Ä‚†Ä                                              
#  ‚†Ä‚†Ä‚†Ä‚£Ä‚£é‚¢§‚£∂‚£æ‚†Ö‚†Ä‚†Ä‚¢Ä‚°§‚†è‚†Ä‚†Ä‚†Ä‚††‚£Ñ‚£à‚°ô‚†ª‚¢ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£¶‚†Ä      Dev: oezzaou <oussama.ezzaou@gmail.com> 
#  ‚¢Ä‚†î‚†â‚†Ä‚†ä‚†ø‚†ø‚£ø‚†Ç‚††‚†¢‚£§‚†§‚£§‚£º‚£ø‚£∂‚£∂‚£§‚£ù‚£ª‚£∑‚£¶‚£ç‚°ª‚£ø‚£ø‚£ø‚£ø‚°Ä                                              
#  ‚¢æ‚£æ‚£Ü‚£§‚£§‚£Ñ‚°Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†â‚¢ª‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°á                                              
#  ‚†Ä‚†à‚¢ã‚¢π‚†ã‚†â‚†ô‚¢¶‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢Ä‚£º‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°á       Created: 2023/12/13 18:56:44 by oezzaou
#  ‚†Ä‚†Ä‚†Ä‚†ë‚†Ä‚†Ä‚†Ä‚†à‚°á‚†Ä‚†Ä‚†Ä‚†Ä‚£†‚£æ‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚†á       Updated: 2025/02/28 11:21:15 by oezzaou
#  ‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚°á‚†Ä‚†Ä‚¢Ä‚£æ‚£ø‚£ø‚†ø‚†ü‚†õ‚†ã‚†õ‚¢ø‚£ø‚£ø‚†ª‚£ø‚£ø‚£ø‚£ø‚°ø‚†Ä                                              
#  ‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢Ä‚†á‚†Ä‚¢†‚£ø‚£ü‚£≠‚£§‚£∂‚£¶‚£Ñ‚°Ä‚†Ä‚†Ä‚†à‚†ª‚†Ä‚†ò‚£ø‚£ø‚£ø‚†á‚†Ä                                              
#  ‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†±‚†§‚†ä‚†Ä‚¢Ä‚£ø‚°ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†ò‚£ø‚†è‚†Ä‚†Ä                             ìÜ©‚ôïìÜ™      
#  ‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚°Ñ‚†Ä‚†Ä‚†Ä‚†ò‚¢ß‚°Ä‚†Ä‚†Ä‚†∏‚£ø‚£ø‚£ø‚†ü‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†ê‚†ã‚†Ä‚†Ä‚†Ä                     ìÑÇ oussama ezzaouìÜÉ  
#  ‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†ò‚†Ñ‚£Ä‚°Ä‚†∏‚†ì‚†Ä‚†Ä‚†Ä‚††‚†ü‚†ã‚†Å‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä                                              

#====<[ CC compiler: ]>=========================================================
CC					:= c++
CPPFLAGS		:= -Wall -Wextra -Werror -std=c++98
RM					:= rm -rf

#====<[ Sources: ]>=============================================================
PROJECT			:= ParserLib
STATIC_LIB	:= libprs.a
SHARED_LIB	:= libprs.so

OBJ_DIR			:= obj
SRC_DIR			:= src
INCLUDE			:= -Iinclude

SRC					:= $(wildcard */*.cpp)
OBJ					:= $(patsubst %.cpp, $(OBJ_DIR)/%.o, $(notdir $(SRC)))

#====<[ Colors: ]>==============================================================
GREEN					= \033[1;32m
RED						= \033[1;31m
BLUE					= \033[34m
CYAN					= \033[1;36m
GRAY					= \033[0;90m
PURPLE				= \033[0;35m
YELLOW				= \033[0;93m
BLACK  				= \033[20m
MAGENTA 			= \033[35m
WHITE  				= \033[37m
PINK					= \033[0;38;5;199m
ORANGE 				= \033[38;5;214m
LIGHT_BLACK  	= \033[90m
LIGHT_RED    	= \033[91m
LIGHT_GREEN  	= \033[92m
LIGHT_YELLOW 	= \033[93m
LIGHT_BLUE   	= \033[94m
LIGHT_MAGENTA = \033[95m
LIGHT_CYAN   	= \033[96m
LIGHT_WHITE  	= \033[97m
LIGHT_BLUE		= \033[38;5;45m
RESET					= \033[1;0m

#====<[ rules: ]>===============================================================
all: static 

static: signature $(static_lib)

shared: signature $(shared_lib)

$(static_lib): $(obj)
	@ar rcs $@ $^  
	@test | awk '\
		begin {\
		for (i=0; i < 70; i++){\
			printf("$(green)‚ñá$(end)");\
			system("sleep 0.01");\
		}\
	} end{printf "\n"}'
	@echo "${green}[ok] ${cyan}$(static_lib) ‚úîÔ∏è${reset}"

$(shared_lib): $(obj)
	@$(cc) $(cppflags) -shared -o $@ $^  
	@test | awk '\
		begin {\
		for (i=0; i < 70; i++){\
			printf("$(green)‚ñá$(end)");\
			system("sleep 0.01");\
		}\
	} end{printf "\n"}'
	@echo "${green}[ok] ${cyan}$(shared_lib) ‚úîÔ∏è${reset}"

signature:
	@printf "${gray}%19s${reset}\n"	"ìÜ©‚ôïìÜ™"
	@printf "${gray}%s${reset}\n"		"ìÑÇ oussama ezzaou"

$(obj_dir)/%.o: $(src_dir)/%.cpp | .create_dir 
	@$(cc) $(cppflags) $(include) -fpic -c $< -o $@
	@printf "$(green)[ok]${reset} ${pink}compiling${reset} %-33s| $@\n" "$<"

$(obj_dir):
	@mkdir -p $@

clean:
	@if [ -d $(obj_dir) ]; then\
		${rm} $(obj_dir);\
		printf "${green}[ok]${reset} ${orange}cleaning  %-33s${reset}| ./%s\n"\
					 "... " "$(project)/$(obj_dir) ‚úîÔ∏è";\
	else\
		printf "${red}[ko]${reset} ${blue}not found %-33s${reset}| ./%s\n"\
					 "..." "$(project)/$(obj_dir) ‚úñÔ∏è";\
	fi

fclean: clean
	@if [ -f $(static_lib) ]; then\
		${rm} $(static_lib);\
		printf "${green}[ok]${reset} ${orange}cleaning  %-33s${reset}| ./%s\n"\
				 "... " "$(project)/$(static_lib) ‚úîÔ∏è";\
	elif [ ! -f $(static_lib) ]; then\
		printf "${red}[ko]${reset} ${blue}not found %-33s${reset}| ./%s\n"\
					 "..." "$(project)/$(static_lib) ‚úñÔ∏è";\
	fi
	@if [ -f $(shared_lib) ]; then\
		${rm} $(shared_lib);\
		printf "${green}[ok]${reset} ${orange}cleaning  %-33s${reset}| ./%s\n"\
				 "... " "$(project)/$(shared_lib) ‚úîÔ∏è";\
	elif [ ! -f $(shared_lib) ]; then\
		printf "${red}[ko]${reset} ${blue}not found %-33s${reset}| ./%s\n"\
					 "..." "$(project)/$(shared_lib) ‚úñÔ∏è";\
	fi

re: fclean all

.create_dir: $(obj_dir)

.suffixes: .o .cpp .tpp .a .so 

.phony: all static shared clean fclean re signature
#===============================================================================
